(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(10),o=n.n(a),i=n(8),s=n(4),u=n(3),f=n(2),l=n.n(f),d=n(6),j="http://localhost:8080",h={headers:{"Content-Type":"application/json"}},b=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://dog.ceo/api/breeds/image/random").then((function(t){return t.json()})).then((function(t){if("success"===t.status)return t.message;throw t})).catch((function(t){throw console.log(t),t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(j+"/getdogs",Object(u.a)(Object(u.a)({},h),{},{method:"GET"})).then((function(t){return t.json()})).then((function(t){return t.list})).catch((function(t){throw t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(j+"/addDog",Object(u.a)(Object(u.a)({},h),{},{method:"POST",body:n})).then((function(t){return t.json()})).catch((function(t){console.log("error adding dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(j+"/removedog",Object(u.a)(Object(u.a)({},h),{},{method:"PUT",body:n})).then((function(t){return t.json()})).catch((function(t){console.log("error removing dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=(n(16),n(0)),m=function(t){var e=t.changeFavourite,n=t.favourites,r=Object(c.useState)(),a=Object(s.a)(r,2),o=a[0],u=a[1],f=Object(c.useState)([]),l=Object(s.a)(f,2),d=l[0],j=l[1],h=Object(c.useState)(),g=Object(s.a)(h,2),O=g[0],v=g[1];Object(c.useEffect)((function(){0===d.length&&m()}),[]),Object(c.useEffect)((function(){u(d[d.length-1])}),[d]);var m=function(){"loading"!==O&&(v("loading"),b().then((function(t){v(""),j([].concat(Object(i.a)(d),[t]).splice(-10))})).catch((function(){console.log("error fetching dog")})))};return Object(p.jsx)("div",{className:"ShowDogs centered",children:Object(p.jsxs)("div",{className:"showdogs-container",children:[Object(p.jsx)("button",{className:d.length>1?"":"unclickable",onClick:function(){if(d.length>1){var t=d.slice(0,d.length-1);j(t)}},children:"Previous"}),Object(p.jsxs)("div",{className:"center",children:["loading"===O?Object(p.jsxs)("div",{className:"dog-image",children:[Object(p.jsx)("div",{className:"loading-spinner"}),Object(p.jsx)("p",{children:"Loading"})]}):Object(p.jsx)("img",{className:"dog-image",src:o,alt:"Dog"}),Object(p.jsx)("button",{onClick:function(){return!(!o||O)&&e(o)},className:"favourite-button ".concat(O?"unclickable":""),children:O?"Loading...":"".concat(-1===(o&&n.indexOf(o))?"F":"Unf","avourite")})]}),Object(p.jsx)("button",{className:O?"unclickable":"",onClick:m,children:O?"loading...":"Next"})]})})},x=(n(18),function(t){var e=t.favourites,n=t.changeFavourite;return Object(p.jsx)("div",{className:"FavouriteDogs",children:e.map((function(t){return Object(p.jsxs)("div",{className:"favourite-dog",children:[Object(p.jsx)("img",{src:t,className:"favourite-dog-image",alt:"dog"}),Object(p.jsx)("button",{onClick:function(){return n(t)},children:"Unfavourite"})]},t)}))})}),N=(n(19),n(20),function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],r=e[1];Object(c.useEffect)((function(){g().then(r).catch((function(t){console.log(t)}))}),[]);var a=function(t){-1===n.indexOf(t)?(O(t),r([].concat(Object(i.a)(n),[t]))):(v(t),r(n.filter((function(e){return e!==t}))))};return Object(p.jsxs)("div",{className:"App centered",children:[Object(p.jsx)(m,{favourites:n,changeFavourite:function(t){return a(t)}}),Object(p.jsx)(x,{favourites:n,changeFavourite:function(t){return a(t)}})]})});o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.d1ed3cbb.chunk.js.map