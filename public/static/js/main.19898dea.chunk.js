(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){},20:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),o=n(10),a=n.n(o),i=n(8),u=n(4),s=n(3),f=n(2),l=n.n(f),d=n(6),h="http://localhost:8080",j={headers:{"Content-Type":"application/json"}},b=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://dog.ceo/api/breeds/image/random").then((function(t){return t.json()})).then((function(t){if("success"===t.status)return t.message;throw t})).catch((function(t){throw console.log(t),t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(d.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(h+"/getdogs",Object(s.a)(Object(s.a)({},j),{},{method:"GET"})).then((function(t){return t.json()})).then((function(t){return t.list})).catch((function(t){throw t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(h+"/addDog",Object(s.a)(Object(s.a)({},j),{},{method:"POST",body:n})).then((function(t){return t.json()})).catch((function(t){console.log("error adding dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(d.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(h+"/removedog",Object(s.a)(Object(s.a)({},j),{},{method:"PUT",body:n})).then((function(t){return t.json()})).catch((function(t){console.log("error removing dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=(n(16),n(0)),m=function(t){var e=t.changeFavourite,n=t.favourites,r=Object(c.useState)(),o=Object(u.a)(r,2),a=o[0],s=o[1],f=Object(c.useState)([]),l=Object(u.a)(f,2),d=l[0],h=l[1],j=Object(c.useState)(),g=Object(u.a)(j,2),O=g[0],v=g[1];Object(c.useEffect)((function(){0===d.length&&m()}),[]),Object(c.useEffect)((function(){s(d[d.length-1])}),[d]);var m=function(){v("loading"),b().then((function(t){h([].concat(Object(i.a)(d),[t]).slice(-10))})).catch((function(){console.log("error fetching dog")}))};return Object(p.jsx)("div",{className:"ShowDogs centered",children:Object(p.jsxs)("div",{className:"showdogs-container",children:[Object(p.jsx)("button",{className:d.length>1?"":"unclickable",onClick:function(){if(d.length>1){var t=d.slice(0,d.length-1);h(t)}},children:"Previous"}),Object(p.jsxs)("div",{className:"center",children:[function(){switch(a){case"error":return;case void 0:return Object(p.jsx)("div",{className:"dog-image",children:"Loading..."});default:return Object(p.jsx)("img",{onLoad:function(){return v(void 0)},className:"dog-image",src:a,alt:"Dog"})}}(),Object(p.jsx)("button",{onClick:function(){return!(!a||O)&&e(a)},className:"favourite-button ".concat(O?"unclickable":""),children:"".concat(-1===(a&&n.indexOf(a))?"F":"Unf","avourite")})]}),Object(p.jsx)("button",{className:O?"unclickable":"",onClick:function(){"loading"!==O&&m()},children:O?"loading...":"Next"})]})})},x=(n(18),function(t){var e=t.favourites,n=t.changeFavourite;return Object(p.jsx)("div",{className:"FavouriteDogs",children:e.map((function(t){return Object(p.jsxs)("div",{className:"favourite-dog",children:[Object(p.jsx)("img",{src:t,className:"favourite-dog-image",alt:"dog"}),Object(p.jsx)("button",{onClick:function(){return n(t)},children:"Unfavourite"})]},t)}))})}),w=(n(19),n(20),function(){var t=Object(c.useState)([]),e=Object(u.a)(t,2),n=e[0],r=e[1];Object(c.useEffect)((function(){g().then(r).catch((function(t){console.log(t)}))}),[]);var o=function(t){-1===n.indexOf(t)?(O(t),r([].concat(Object(i.a)(n),[t]))):(v(t),r(n.filter((function(e){return e!==t}))))};return Object(p.jsxs)("div",{className:"App centered",children:[Object(p.jsx)(m,{favourites:n,changeFavourite:function(t){return o(t)}}),Object(p.jsx)(x,{favourites:n,changeFavourite:function(t){return o(t)}})]})});a.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.19898dea.chunk.js.map