(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(t,e,n){},18:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n.n(c),a=n(9),o=n.n(a),i=n(4),s=n(3),u=n(2),l=n.n(u),f=n(6),d="http://localhost:8080",h={headers:{"Content-Type":"application/json"}},j=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://dog.ceo/api/breeds/image/random").then((function(t){return t.json()})).then((function(t){if("success"===t.status)return t.message;throw t})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),b=function(){var t=Object(f.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(d+"/getdogs",Object(s.a)(Object(s.a)({},h),{},{method:"GET"})).then((function(t){return t.json()})).then((function(t){return t.list.map((function(t){return t.id}))})).catch((function(t){return console.log(t)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(d+"/addDog",Object(s.a)(Object(s.a)({},h),{},{method:"POST",body:n})).then((function(t){return t.json()})).then((function(t){return t.list.map((function(t){return t.id}))})).catch((function(t){console.log("error adding dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(f.a)(l.a.mark((function t(e){var n;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=JSON.stringify({dog:e}),t.next=3,fetch(d+"/removedog",Object(s.a)(Object(s.a)({},h),{},{method:"PUT",body:n})).then((function(t){return t.json()})).then((function(t){return t.list.map((function(t){return t.id}))})).catch((function(t){console.log("error removing dog")}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=n(10),p=n(0),m=function(t){var e=t.changeFavourite,n=t.favourites;console.log(n);var r=Object(c.useState)(),a=Object(i.a)(r,2),o=a[0],s=a[1],u=Object(c.useState)([]),l=Object(i.a)(u,2),f=l[0],d=l[1],h=Object(c.useState)(),b=Object(i.a)(h,2),g=b[0],O=b[1];Object(c.useEffect)((function(){0===f.length&&m()}),[]),Object(c.useEffect)((function(){s(f[f.length-1])}),[f]);var m=function(){"loading"!==g&&(O("loading"),j().then((function(t){O(""),d([].concat(Object(v.a)(f),[t]).splice(-10))})).catch((function(){console.log("error fetching dog")})))};return Object(p.jsx)("div",{className:"show-dogs",children:Object(p.jsxs)("div",{className:"showdogs-container",children:[Object(p.jsx)("button",{className:f.length>1?"":"unclickable",onClick:function(){if(f.length>1){var t=f.slice(0,f.length-1);d(t)}},children:"Previous"}),Object(p.jsxs)("div",{className:"center",children:["loading"===g?Object(p.jsxs)("div",{className:"dog-image",children:[Object(p.jsx)("div",{className:"loading-spinner"}),Object(p.jsx)("p",{className:"loading-text",children:"Loading"})]}):Object(p.jsx)("img",{className:"dog-image",src:o,alt:"Dog"}),Object(p.jsx)("button",{onClick:function(){return!(!o||g)&&e(o)},className:"".concat(g?"unclickable":""),children:g?"Loading...":"".concat(-1===(o&&n.indexOf(o))?"F":"Unf","avourite")})]}),Object(p.jsx)("button",{className:g?"unclickable":"",onClick:m,children:g?"loading...":"Next"})]})})},x=function(t){var e=t.favourites,n=t.changeFavourite;return Object(p.jsxs)("div",{className:"favourite-dogs",children:[e.length>0?Object(p.jsx)("h1",{children:"Your Favourite Dogs"}):null,Object(p.jsx)("div",{className:"favourite-dogs-list",children:e.map((function(t){return Object(p.jsxs)("div",{className:"favourite-dog",children:[Object(p.jsx)("img",{src:t,className:"favourite-dog-image",alt:"dog"}),Object(p.jsx)("button",{onClick:function(){return n(t)},children:"Unfavourite"})]},t)}))})]})},N=(n(17),function(){var t=Object(c.useState)([]),e=Object(i.a)(t,2),n=e[0],r=e[1];Object(c.useEffect)((function(){b().then(r).catch((function(t){console.log(t)}))}),[]);var a=function(t){-1===n.indexOf(t)?g(t).then((function(t){r(t)})):O(t).then((function(t){r(t)}))};return Object(p.jsxs)("div",{className:"app",children:[Object(p.jsx)(m,{favourites:n,changeFavourite:function(t){return a(t)}}),Object(p.jsx)(x,{favourites:n,changeFavourite:function(t){return a(t)}})]})});o.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.510eb649.chunk.js.map